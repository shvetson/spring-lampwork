<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/html"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <th:block th:insert="~{fragments :: link}"></th:block>
    <title>Админ. Клиент</title>
</head>
<body>
<div th:replace="~{fragments :: menu2}"></div>

<div class="container-xxl">

    <section class="title row">
        <div class="col text-start">
            <div th:switch="${flagEdit}">
                <h2 th:case="true">Редактирование данных о клиенте</h2>
                <h2 th:case="false">Добавление данных о новом клиенте</h2>
            </div>
        </div>
    </section>

    <section class="form-enter row">
        <div class="col-6">
            <form th:action="@{/admin/clients/add}" enctype="multipart/form-data" th:object="${client}"
                  th:method="POST">
                <input type="text" th:field="*{id}" hidden/>

                <div class="row mb-3">
                    <label for="firstNameInput" class="col-3 col-form-label">Имя</label>
                    <div class="col-9">
                        <input type="text" class="form-control" id="firstNameInput" placeholder="Имя клиента"
                               th:field="*{firstName}" required>
                    </div>
                </div>

                <div class="row mb-3">
                    <label for="lastNameInput" class="col-3 col-form-label">Фамилия</label>
                    <div class="col-9">
                        <input type="text" class="form-control" id="lastNameInput" placeholder="Фамилия клиента"
                               th:field="*{lastName}" required>
                    </div>
                </div>

                <div class="row mb-3">
                    <label for="emailInput" class="col-3 col-form-label">Электронная почта</label>
                    <div class="col-9">
                        <input type="email" class="form-control" id="emailInput" placeholder="Электронная почта"
                               pattern="^([^ ]+@[^ ]+\.[a-z]{2,6}|)$"
                               th:field="*{email}" required>
                        <small>Формат: name@mail.com</small>
                    </div>
                </div>

                <div class="row mb-3">
                    <label for="phoneInput" class="col-3 col-form-label">Номер телефона</label>
                    <div class="col-9">
                        <input type="tel" class="form-control" id="phoneInput" placeholder="+7(___) ___-__-__"
                               value="+7(___) ___-__-__"
                               pattern="\+7[\(]{0,1}9[0-9]{2}[\)]\s\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}"
                               th:field="*{phone}" required>
                        <small>Формат: +7(XXX) XXX-XX-XX</small>
                    </div>
                </div>

                <div class="row mb-3">
                    <label for="telegramInput" class="col-3 col-form-label">Telegram</label>
                    <div class="col-9">
                        <input type="text" class="form-control" id="telegramInput" placeholder="Telegram"
                               pattern="&#64;[a-zA-Z]+$"
                               th:field="*{telegram}">
                        <small>Формат: @NikName</small>
                    </div>
                </div>

                <div class="row mb-3">
                    <label for="whatsappInput" class="col-3 col-form-label">WhatsApp</label>
                    <div class="col-9">
                        <input type="tel" class="form-control" id="whatsappInput" placeholder="WhatsApp"
                               th:field="*{whatsApp}">
                    </div>
                </div>

                <div class="row mb-3 justify-content-between">
                    <label for="descriptionInput" class="col-3 col-form-label">Комментарии</label>
                    <div class="col-9">
                    <textarea class="form-control" id="descriptionInput" rows="3" placeholder="Комментарии"
                              th:field="*{description}"></textarea>
                    </div>
                </div>

                <th:block th:if="${flagEdit}">
                    <div class="row mb-3">
                        <label for="dataCreatedInput" class="col-3 col-form-label">Дата регистрации</label>
                        <div class="col-9">
                            <input type="datetime-local" class="form-control" id="dataCreatedInput"
                                   placeholder="Дата регистрации" min="0" th:field="*{created}">
                        </div>
                    </div>

                    <div class="row mb-3">
                        <label for="dataUpdatedInput" class="col-3 col-form-label">Дата обновления</label>
                        <div class="col-9">
                            <input type="date" class="form-control" id="dataUpdatedInput"
                                   placeholder="Дата обновления" min="0" th:field="*{updated}">
                        </div>
                    </div>
                </th:block>

                <div class="col-12">
                    <button class="btn btn-sm btn-primary" type="submit">Сохранить</button>
                </div>

            </form>
        </div>
    </section>
</div>

<div th:insert="~{fragments :: copyright}"></div>
<th:block th:insert="~{fragments :: script}"></th:block>
</body>
</html>